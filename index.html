<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Codeigniter-gCharts : A library that extends the flexibility and power of Google Charts into CodeIgniter using the magic of PHP5" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Codeigniter-gCharts</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kevinkhill/Codeigniter-gCharts">View on GitHub</a>

          <h1 id="project_title">Codeigniter-gCharts</h1>
          <h2 id="project_tagline">A library that extends the flexibility and power of Google Charts into CodeIgniter using the magic of PHP5</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/kevinkhill/Codeigniter-gCharts/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/kevinkhill/Codeigniter-gCharts/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="codeigniter-gcharts" class="anchor" href="#codeigniter-gcharts"><span class="octicon octicon-link"></span></a>Codeigniter-gCharts</h1>

<h3>
<a name="google-chart-api-for-codeigniter" class="anchor" href="#google-chart-api-for-codeigniter"><span class="octicon octicon-link"></span></a>Google Chart API for Codeigniter</h3>

<p>This is a library that extends the flexibility and power of Google Charts into CodeIgniter using the magic of PHP5
By: <a href="kevinkhill@gmail.com">Kevin Hill</a></p>

<h1>I have stopped maintaining this library in favor of the new and improved <a href="http://kevinkhill.github.io/LavaCharts/">LavaCharts</a> (a fork of this aimed at Laravel)</h1>
<a href="http://github.com/kevinkhill/LavaCharts/">The LavaCharts Repo</a>

<hr><h2>
<a name="installing" class="anchor" href="#installing"><span class="octicon octicon-link"></span></a>Installing</h2>

<ol>
<li>Clone the repo into a directory of your choice and copy ALL of the files into their corresponding folders in your Codeigniter project.</li>
<li>That's it! You now have the power of Google Charts in your project.</li>
</ol><h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>Example charts have been included, just navigate to <code>http://&lt;YOUR_CI_SITE&gt;/index.php/gchart_examples</code></p>

<h2>
<a name="configuration" class="anchor" href="#configuration"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Located at <code>&lt;CI_APPLICATION_FOLDER&gt;/config/gcharts.php</code>, there are some options you can set globally for the gCharts library</p>

<ul>
<li>autoloadCharts - Automatically load charts instead of calling the gcharts-&gt;load() function.</li>
<li>errorPrepend - This will be prepended to error messages to stylize, EX: <code>&lt;p class="error"&gt;</code>
</li>
<li>errorAppend - This will come after the error message, probably should match and close the prepend value, EX: <code>&lt;/p&gt;</code>
</li>
<li>More options coming soon...</li>
</ul><h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Here is an example of how to create a line chart with two lines of data</p>

<h3>
<a name="the-controller" class="anchor" href="#the-controller"><span class="octicon octicon-link"></span></a>The Controller</h3>

<ol>
<li>
<p>Load the library in the controller you will use to define the chart, or add it to your autoload config file.</p>

<div class="highlight"><pre><span class="c1">//Load in the controller</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'gcharts'</span><span class="p">);</span>

<span class="c1">//Or in the autoload config file</span>
<span class="nv">$autoload</span><span class="p">[</span><span class="s1">'libraries'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'gcharts'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p>Next load the chart that you are going to use, or autoload it in the gcharts config file.</p>

<div class="highlight"><pre><span class="c1">//Load in th controller</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">'LineChart'</span><span class="p">);</span>

<span class="c1">//Or in the gcharts config file</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">'autoloadCharts'</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'LineChart'</span><span class="p">);</span>
</pre></div>
</li>
<li><p>Now we can use the gcharts library to create a DataTable. Pass a string to the DataTable function to assign a label for the table.</p></li>
<li>
<p>Then add your columns, defining what the chart's data will consist of. In this example, the first column is the horizontal axis, then then next two columns are the two sets of data. The order of arguments are as follows: [data type, label, id]</p>

<div class="highlight"><pre><span class="nv">$dataTable</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">DataTable</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">);</span>

<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Count'</span><span class="p">,</span> <span class="s1">'count'</span><span class="p">);</span>
<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Projected'</span><span class="p">,</span> <span class="s1">'projected'</span><span class="p">);</span>
<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Official'</span><span class="p">,</span> <span class="s1">'official'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p>Next add some data, for this example, it is filled with randomness. The addRow() function argument order follows the order in which the columns were added.
So here, array[0] is for 'count', array[1] is for 'projected' and array[2] is for 'official'</p>

<div class="highlight"><pre><span class="k">for</span><span class="p">(</span><span class="nv">$a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$a</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">;</span> <span class="nv">$a</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
 <span class="nv">$data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$a</span><span class="p">;</span> <span class="c1">//Count</span>
 <span class="nv">$data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//Line 1's data</span>
 <span class="nv">$data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//Line 2's data</span>

 <span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addRow</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</li>
<li>
<p>Now lets configure some options for the chart. There are many ways to customize the chart, but we'll keep it simple. (Refer to the documentation for the list of configuration options.)</p>

<div class="highlight"><pre><span class="nv">$config</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
 <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Stocks'</span>
<span class="p">);</span>
</pre></div>
</li>
<li>
<p>Finally, pass the configuration to the chart of choice, LineChart in this example, making sure that the Chart label matches the DataTable label.</p>

<div class="highlight"><pre><span class="c1">// Since we named the dataTable "Stocks"...</span>
<span class="c1">// Call the LineChart function with "Stocks" as the param to use that dataTable</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">LineChart</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setConfig</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>
</pre></div>
</li>
</ol><h3>
<a name="the-view" class="anchor" href="#the-view"><span class="octicon octicon-link"></span></a>The View</h3>

<ol>
<li>Within your view, use these functions to get your chart onto the page.

<ul>
<li>If you want everything generated automatically, use outputInto() with the div() function.</li>
<li>Pass a string as a label to the outputInto() function which will be used when creating the div.</li>
<li>Then use the div() function to create a div that autoomatically has the corresponding label as it's id.</li>
<li>NOTE: You can also pass [width, height] to the div() function and it will be applied to the div.</li>
</ul>
</li>
<li>
<p>If you already have a <code>&lt;div id="SOME-ID"&gt;</code> on the page, then ommit the div() function and just pass the div's ID into the outputInto() function.</p>

<div class="highlight"><pre><span class="c1">//Example #1, have the library create the div</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">LineChart</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">outputInto</span><span class="p">(</span><span class="s1">'stock_div'</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">div</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>

<span class="c1">//Example #2, output into a div you already created</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">LineChart</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">outputInto</span><span class="p">(</span><span class="s1">'SOME-ID'</span><span class="p">);</span>
</pre></div>
</li>
<li>
<p>You can also setup a way of viewing errors in the creation of the chart by using this method.</p>

<div class="highlight"><pre><span class="k">if</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">hasErrors</span><span class="p">())</span>
<span class="p">{</span>
 <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</li>
</ol><h2>
<a name="putting-it-all-together" class="anchor" href="#putting-it-all-together"><span class="octicon octicon-link"></span></a>Putting it all together</h2>

<div class="highlight"><pre><span class="c1">//Controller</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'gcharts'</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">load</span><span class="p">(</span><span class="s1">'LineChart'</span><span class="p">);</span>

<span class="nv">$dataTable</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">DataTable</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">);</span>

<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Count'</span><span class="p">,</span> <span class="s1">'count'</span><span class="p">);</span>
<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Projected'</span><span class="p">,</span> <span class="s1">'projected'</span><span class="p">);</span>
<span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addColumn</span><span class="p">(</span><span class="s1">'number'</span><span class="p">,</span> <span class="s1">'Official'</span><span class="p">,</span> <span class="s1">'official'</span><span class="p">);</span>

<span class="k">for</span><span class="p">(</span><span class="nv">$a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nv">$a</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">;</span> <span class="nv">$a</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$a</span> <span class="c1">//Count</span>
    <span class="nv">$data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//Line 1's data</span>
    <span class="nv">$data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">rand</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//Line 2's data</span>

    <span class="nv">$dataTable</span><span class="o">-&gt;</span><span class="na">addRow</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
<span class="p">}</span>

<span class="nv">$config</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Stocks'</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">LineChart</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">setConfig</span><span class="p">(</span><span class="nv">$config</span><span class="p">);</span>
</pre></div>

<div class="highlight"><pre><span class="c1">//View</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">LineChart</span><span class="p">(</span><span class="s1">'Stocks'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">outputInto</span><span class="p">(</span><span class="s1">'stock_div'</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">div</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">hasErrors</span><span class="p">())</span>
<span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">gcharts</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<h3>
<a name="output" class="anchor" href="#output"><span class="octicon octicon-link"></span></a>Output</h3>

<p><img src="http://i.imgur.com/XVM8q7T.png" alt="Chart Output"></p>

<h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>Todo</h2>

<ul>
<li>Add event callbacks</li>
<li>Support more charts</li>
<li>Make available via composer and/or sparks and/or non-codeigniter projects</li>
</ul><h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<pre><code>                          MIT License
         Copyright (c) 2013, Kevin Hill of KHill Designs
</code></pre>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Codeigniter-gCharts maintained by <a href="https://github.com/kevinkhill">kevinkhill</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-43288838-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
